# TODO

* [ ] 为了数据的更加安全性，需要数据双向加密, 目前只是fmws访问frws需要加密，
frws回复fmws是不需要加密的，并且client访问fmws也是不需要加密的，client访
问和fmws返回client我不希望实现，但是fmws和frws双向加密是很有必要的, 只要
fmws和frws的源码不被黑客拿到，那么他们也没办法拿下我的文件系统
* [ ] 时间戳的校验，主要是fmws访问frws，是很有必要的，加了时间戳，这样就能
够使被路由器截获的数据包被重组发送过来的可能性
* [ ] 代码冗余，有很多地方是可以代码冗余优化的，这样能让代码更加好维护，只是
优化之后，又要进行测试，需要一定的时间·        
* [ ] 数据前期，这里很难做，因为IP是绑定的，文件复制过去之后，数据，计算机的
IP地址变了
* [ ] 

## 数据迁移方案

我的想法是，首先，先部署分布式文件系统，然后再将数据从原分布式文件系统中上传过
去，这里会思考到，用户信息，文件索引信息该如何存储，以及frws的服务器与文件映射
信息，其实这里就不用管了，迁移的步骤主要可以分为如下：
1. 首先部署崭新的分布式文件系统集群
2. 在原分布式文件系统web页面以管理员权限登录后，点击迁移数据按钮，这时候弹出
对话框，需要输入，迁移服务器FMWS的IP地址，端口号，管理员账号，管理员密码
3. 输入完毕后，统计老分布式文件系统总共的硬盘空间，再计算新分布式文件系统总硬
盘空间大小，如果大于老分布式文件系统硬盘空间大小，则显示新分布式文件系统条件达
标
4. 这时候，点击迁移按钮，老分布式文件系统，就会向迁移队列发送一个迁移任务，这个
迁移队列，首先开始，迁移用户表的信息到新分布式文件系统中
5. 用户信息表迁移结束后，开始拉取文件表中的所有数据，然后，将用户，file表的文件
信息转移任务依次发送到转移数据消息队列
6. 当所有数据转移完毕后，则，可以修改第三方应用mingdfs的地址就行了。
7. 这里注意，如果转移数据消息队列转移失败，则会重新开始，直到所有任务成功，则代
表，迁移数据完成。

既然能写出这样一个完整的迁移数据的方案，那么，就很有必要将这个方案作为一个功能编
写到系统中。